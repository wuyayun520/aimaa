
//: Declare String Begin

/*: "init(coder:) has not been implemented" :*/
fileprivate let dataShirtFormat:[UInt8] = [0x96,0x91,0x96,0x8b,0xd7,0x9c,0x90,0x9b,0x9a,0x8d,0xc5,0xd6,0xdf,0x97,0x9e,0x8c,0xdf,0x91,0x90,0x8b,0xdf,0x9d,0x9a,0x9a,0x91,0xdf,0x96,0x92,0x8f,0x93,0x9a,0x92,0x9a,0x91,0x8b,0x9a,0x9b]

private func priceUnknown(existing num: UInt8) -> UInt8 {
    return num ^ 255
}

/*: "Cancel" :*/
fileprivate let appEmptyComputeName:String = "policeman regain petition appear stepCancel"

/*: "Submit" :*/
fileprivate let mainManualKey:[Character] = ["S","u","b","m","i","t"]

/*: "Please tell us your problems                   " :*/
fileprivate let data_bottomValue:[UInt8] = [0x7f,0x9b,0x94,0x90,0xa2,0x94,0x4f,0xa3,0x94,0x9b,0x9b,0x4f,0xa4,0xa2,0x4f,0xa8,0x9e,0xa4,0xa1,0x4f,0x9f,0xa1,0x9e,0x91,0x9b,0x94,0x9c,0xa2,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f,0x4f]

fileprivate func clearRecording(melt num: UInt8) -> UInt8 {
    let value = Int(num) - 47
    if value < 0 {
        return UInt8(value + 256)
    } else {
        return UInt8(value)
    }
}

/*: "You need to choose at least one." :*/
fileprivate let data_globShoreKey:[UInt8] = [0x2e,0x65,0x6e,0x6f,0x20,0x74,0x73,0x61,0x65,0x6c,0x20,0x74,0x61,0x20,0x65,0x73,0x6f,0x6f,0x68,0x63,0x20,0x6f,0x74,0x20,0x64,0x65,0x65,0x6e,0x20,0x75,0x6f,0x59]

/*: "Please tell us your problems." :*/
fileprivate let notiClearValue:String = "Please lose gin thread while bottom"
fileprivate let main_manualUrl:[Character] = ["t","e","l","l"]
fileprivate let constDirectFormat:String = "choose color legal need quit us yo"
fileprivate let app_teamCostName:String = "roblems.now glob center resolution people"

/*: "app/userReport" :*/
fileprivate let data_errorStr:String = "app/userput complete written phase"
fileprivate let notiLastId:String = "accept month data under needReport"

/*: "reason" :*/
fileprivate let k_loopPath:[Character] = ["r","e","a","s","o"]
fileprivate let appTipName:String = "nobody"

/*: "desc" :*/
fileprivate let user_spireKey:[UInt8] = [0x5,0x6,0x14,0x4]

fileprivate func promptFormer(glass num: UInt8) -> UInt8 {
    let value = Int(num) + 95
    if value > 255 {
        return UInt8(value - 256)
    } else {
        return UInt8(value)
    }
}

/*: "mf/moment/report" :*/
fileprivate let show_roundingText:String = "coal"
fileprivate let constAidUrl:[Character] = ["f","/","m","o","m","e","n","t","/","r","e","p","o","r","t"]

/*: "momentId" :*/
fileprivate let dataMagnitudeervalText:[UInt8] = [0x9f,0x9d,0x9f,0x97,0x9c,0x86,0xbb,0x96]

private func statementExample(absolutely num: UInt8) -> UInt8 {
    return num ^ 242
}

/*: "mf/momentReply/report" :*/
fileprivate let constOvalPath:[Character] = ["m","f","/","m","o","m","e","n","t","R","e","p","l","y","/","r"]
fileprivate let noti_womanAssistantMessage:[Character] = ["e","p","o","r","t"]

/*: "app/videoReport" :*/
fileprivate let k_latUrl:String = "start creation seriesapp/vide"
fileprivate let noti_mentionName:String = "oRimage tick numb stretch"
fileprivate let app_layTitle:[Character] = ["e","p","o","r","t"]

/*: "logId" :*/
fileprivate let noti_fieldMsg:[UInt8] = [0x56,0x55,0x5d,0x73,0x5e]

private func socialForward(cloud num: UInt8) -> UInt8 {
    return num ^ 58
}

/*: "Submitted successfully" :*/
fileprivate let app_lagMutualText:String = "moon bad appeal your portSubmit"
fileprivate let main_thatPath:String = "stimeccess"
fileprivate let show_millPath:[Character] = ["f","u","l","l","y"]

/*: "Nudity" :*/
fileprivate let appWorldRemTitle:String = "Nuditypose something post clock"

/*: "Violence" :*/
fileprivate let dataMineContent:[Character] = ["V","i","o","l","e","n","c","e"]

/*: "Harassment" :*/
fileprivate let main_beautyName:[Character] = ["H","a","r","a","s","s","m","e","n"]
fileprivate let data_flowFormat:String = "tool"

/*: "Suicide or Self-injury" :*/
fileprivate let user_carpetFormat:String = "Suicidcomputer illegal due inventory swallow"
fileprivate let const_electricExtentData:String = "elf-injmill multi"
fileprivate let noti_chamberName:String = "preservery"

/*: "False Information" :*/
fileprivate let noti_sessionMsg:[Character] = ["F","a","l","s","e"," ","I","n","f"]
fileprivate let constEndStr:String = "ORMATION"

/*: "Spam" :*/
fileprivate let main_regainLagKey:String = "m walk heart arrangement translateSpam"

/*: "Hate Speech" :*/
fileprivate let const_rectoKey:[Character] = ["H","a","t","e"," ","S","p","e","e","c","h"]

/*: "Terrorism" :*/
fileprivate let notiContainerMessage:[Character] = ["T"]
fileprivate let mainAttributeKey:String = "eissueo"

/*: "Sale of Illegal or Regulated Goods" :*/
fileprivate let notiCertainName:[UInt8] = [0xe,0x3c,0x31,0x38,0x7d,0x32,0x3b,0x7d,0x14,0x31,0x31,0x38,0x3a,0x3c,0x31,0x7d,0x32,0x2f,0x7d,0xf,0x38,0x3a,0x28,0x31,0x3c,0x29,0x38,0x39,0x7d,0x1a,0x32,0x32,0x39,0x2e]

private func complexOrganization(recognize num: UInt8) -> UInt8 {
    return num ^ 93
}

/*: "Sending disgusting messages" :*/
fileprivate let showAccountingKey:String = "Sendingspread from"
fileprivate let show_agoOuterName:[Character] = [" ","d","i"]
fileprivate let notiConRadicalWeKey:String = "strustus"
fileprivate let constDeskTitle:String = "mirror channel half mes"

/*: "Using photos of nudity or drugs" :*/
fileprivate let appCarpetReadStr:[UInt8] = [0x68,0x4e,0x54,0x53,0x5a,0x1d,0x4d,0x55,0x52,0x49,0x52,0x4e,0x1d,0x52,0x5b,0x1d,0x53,0x48,0x59,0x54,0x49,0x44,0x1d,0x52,0x4f,0x1d,0x59,0x4f,0x48,0x5a,0x4e]

private func itsWritten(transform num: UInt8) -> UInt8 {
    return num ^ 61
}

/*: "Harassing or sending ads" :*/
fileprivate let constRelateStr:[Character] = ["H","a","r","a","s","s","i","n","g"," ","o","r"," ","s","e","n","d"]
fileprivate let show_blendUrl:String = "ing adsme coat above missing about"

/*: "Defraud or using fake info" :*/
fileprivate let data_universalMsg:[Character] = ["D","e","f","r","a","u","d"," ","o","r"," ","u","s","i","n","g"," ","f"]
fileprivate let const_indexCurName:String = "measurement"
fileprivate let data_capacityText:[Character] = ["k","e"," ","i","n","f","o"]

/*: "Others" :*/
fileprivate let noti_optionMsg:[Character] = ["O","t","h","e","r","s"]

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  OccurrenceView.swift
//  AbroadTalking
//
//  Created by Bolo on 2022/9/14.
//

//: import Then
import Then
//: import UIKit
import UIKit

//: enum TalkingReportAlertType: CaseIterable {
enum SortCaseIterable: CaseIterable {
    //: case reportCommentType
    case reportCommentType // 举报动态
    //: case reportDynamicType
    case reportDynamicType
    //: case reportUserType
    case reportUserType // 举报用户
    //: case reportVideo
    case reportVideo // 举报视频通话
}

// 是否举报成功block
//: typealias ReportViewHideBlock = (_ isReportSucc: Bool) -> Void
typealias ReportViewHideBlock = (_ isReportSucc: Bool) -> Void

//: class TalkingReportAlertView: UIView {
class OccurrenceView: UIView {
    //: var reportType: TalkingReportAlertType?
    var reportType: SortCaseIterable?
    //: var dataArray: Array<TalkingReportModel> = []
    var dataArray: [AudienceReactiveCompatible] = []
    //: var selectedModel = TalkingReportModel()
    var selectedModel = AudienceReactiveCompatible()
    //: var tempId: String = ""
    var tempId: String = ""
    //: var reportHideBlock: ReportViewHideBlock?
    var reportHideBlock: ReportViewHideBlock?
    //: let disposeBag = DisposeBag()
    let disposeBag = DisposeBag()

    //: public init(frame: CGRect, type: TalkingReportAlertType?, rId: String) {
    public init(frame: CGRect, type: SortCaseIterable?, rId: String) {
        //: tempId = rId
        tempId = rId
        //: reportType = type
        reportType = type
        //: super.init(frame: frame)
        super.init(frame: frame)
        //: setupSubviews()
        behindSetup()
        //: setupSubViewsConstraint()
        worldWideWeight()
        //: setupReasons()
        totalervalWith()
        //: bindInteraction()
        bind()
    }

    //: required init?(coder: NSCoder) {
    required init?(coder _: NSCoder) {
        //: fatalError("init(coder:) has not been implemented")
        fatalError(String(bytes: dataShirtFormat.map{priceUnknown(existing: $0)}, encoding: .utf8)!)
    }

    // MARK: - Lazy load

    //: lazy var cancelButton = UIButton().then {
    lazy var cancelButton = UIButton().then {
        //: $0.setTitle("Cancel".localized, for: .normal)
        $0.setTitle((String(appEmptyComputeName.suffix(6))).localized, for: .normal)
        //: $0.setTitleColor(UIColor.appThemeColor(), for: .normal)
        $0.setTitleColor(UIColor.crosswise(), for: .normal)
        //: $0.titleLabel?.font = UIFont.pingfangFont(type: .Medium, fontSize: 17)
        $0.titleLabel?.font = UIFont.recipeDecision(type: .Medium, fontSize: 17)
        //: $0.backgroundColor = UIColor.white
        $0.backgroundColor = UIColor.white
        //: $0.layer.borderWidth = 1
        $0.layer.borderWidth = 1
        //: $0.layer.borderColor = UIColor.appThemeColor().cgColor
        $0.layer.borderColor = UIColor.crosswise().cgColor
        //: $0.layer.cornerRadius = 25
        $0.layer.cornerRadius = 25
        //: $0.clipsToBounds = true
        $0.clipsToBounds = true
        //: $0.addTarget(self, action: #selector(registerCancelAction), for: .touchUpInside)
        $0.addTarget(self, action: #selector(settle), for: .touchUpInside)
    }

    //: lazy var submitButton = UIButton().then {
    lazy var submitButton = UIButton().then {
        //: $0.setTitle("Submit".localized, for: .normal)
        $0.setTitle((String(mainManualKey)).localized, for: .normal)
        //: $0.setTitleColor(UIColor.white, for: .normal)
        $0.setTitleColor(UIColor.white, for: .normal)
        //: $0.titleLabel?.font = UIFont.pingfangFont(type: .Medium, fontSize: 17)
        $0.titleLabel?.font = UIFont.recipeDecision(type: .Medium, fontSize: 17)
        //: $0.setBackgroundImage(UIImage.imageGradientColor(colors: UIColor.appGradientColor(), size: CGSize(width: 126, height: 50)), for: .normal)
        $0.setBackgroundImage(UIImage.announcementSize(colors: UIColor.promptRow(), size: CGSize(width: 126, height: 50)), for: .normal)
        //: $0.layer.cornerRadius = 25
        $0.layer.cornerRadius = 25
        //: $0.clipsToBounds = true
        $0.clipsToBounds = true
        //: $0.addTarget(self, action: #selector(registerSubmitAction), for: .touchUpInside)
        $0.addTarget(self, action: #selector(saving), for: .touchUpInside)
    }

    //: lazy var tableFooterView = UIView().then {
    lazy var tableFooterView = UIView().then {
        //: $0.frame = CGRect(x: 0, y: 0, width: ScreenWidth-actualWidth(w: 108), height: actualHeight(h: 74))
        $0.frame = CGRect(x: 0, y: 0, width: main_assetUrl - actualWidth(w: 108), height: actualHeight(h: 74))
        //: $0.backgroundColor = UIColor.RGBA(245, 245, 248, 1)
        $0.backgroundColor = UIColor.far(245, 245, 248, 1)
        //: $0.layer.masksToBounds = true
        $0.layer.masksToBounds = true
        //: $0.layer.cornerRadius = 5
        $0.layer.cornerRadius = 5
    }

    //: lazy var otherTextView = PlaceholderTextView(placeholder: "Please tell us your problems                   ".localized, placeholderColor: UIColor.appValueDetailColor(), frame: CGRect(x: 10, y: 10, width: ScreenWidth-actualWidth(w: 128), height: actualHeight(h: 54))).then {
    lazy var otherTextView = TillBroadView(placeholder: String(bytes: data_bottomValue.map{clearRecording(melt: $0)}, encoding: .utf8)!.localized, placeholderColor: UIColor.keepRid(), frame: CGRect(x: 10, y: 10, width: main_assetUrl - actualWidth(w: 128), height: actualHeight(h: 54))).then {
        //: $0.backgroundColor = .clear
        $0.backgroundColor = .clear
        //: $0.placeholdertextView.backgroundColor = .clear
        $0.placeholdertextView.backgroundColor = .clear
        //: $0.limitWords = 200
        $0.limitWords = 200
        //: $0.isShowCountLabel = false
        $0.isShowCountLabel = false
        //: $0.isReturnHidden = true
        $0.isReturnHidden = true
        //: $0.plaleLabel.font = .pingfangFont(type: .Regular, fontSize: 16)
        $0.plaleLabel.font = .recipeDecision(type: .Regular, fontSize: 16)
        //: $0.placeholdertextView.textColor = UIColor.mottleResult()
        $0.placeholdertextView.textColor = UIColor.mottleResult()
        //: $0.placeholdertextView.font = .pingfangFont(type: .Regular, fontSize: 16)
        $0.placeholdertextView.font = .recipeDecision(type: .Regular, fontSize: 16)
    }

    //: lazy var bgView = UIView().then {
    lazy var bgView = UIView().then {
        //: $0.backgroundColor = UIColor.RGBA(0, 0, 0, 0.6)
        $0.backgroundColor = UIColor.far(0, 0, 0, 0.6)
    }

    //: lazy var containerView = UIView().then {
    lazy var containerView = UIView().then {
        //: $0.backgroundColor = .white
        $0.backgroundColor = .white
        //: $0.layer.masksToBounds = true
        $0.layer.masksToBounds = true
        //: $0.layer.cornerRadius = 15
        $0.layer.cornerRadius = 15
    }

    //: lazy var tableView = UITableView.init(frame: .zero, style: .plain).then {
    lazy var tableView = UITableView(frame: .zero, style: .plain).then {
        //: $0.backgroundColor = .white
        $0.backgroundColor = .white
        //: $0.separatorStyle = .none
        $0.separatorStyle = .none
        //: $0.showsVerticalScrollIndicator = false
        $0.showsVerticalScrollIndicator = false
        //: $0.delegate = self
        $0.delegate = self
        //: $0.dataSource = self
        $0.dataSource = self
        //: if reportType != .reportCommentType, reportType != .reportVideo {
        if reportType != .reportCommentType, reportType != .reportVideo {
            //: $0.tableFooterView = self.tableFooterView
            $0.tableFooterView = self.tableFooterView
        }
        //: $0.register(TalkingReportViewCell.self, forCellReuseIdentifier: TalkingReportViewCell.className())
        $0.register(RecognizeViewCell.self, forCellReuseIdentifier: RecognizeViewCell.className())
    }
}

// MARK: - Bind && Event

//: extension TalkingReportAlertView {
extension OccurrenceView {
    //: @objc func func__TapGestureRecognizer() {
    @objc func coatButton() {
        //: self.endEditing(true)
        self.endEditing(true)
    }

    //: public func showReportViewIn(view: UIView?) {
    public func nearbyDisplay(view: UIView?) {
        //: if view == nil {
        if view == nil {
            //: let window = AnimateUnaryAllocator.getWindow()
            let window = AnimateUnaryAllocator.frameworkWindow()
            //: window.addSubview(self)
            window.addSubview(self)
            //: return
            return
        }
        //: view?.addSubview(self)
        view?.addSubview(self)
    }

    /// 移除视图
    /// - Parameter succeed: 是否举报成功
    //: private func dismissReportView(succeed: Bool) {
    private func worldViewSucceed(succeed: Bool) {
        //: reportHideBlock?(succeed)
        reportHideBlock?(succeed)
        //: self.removeFromSuperview()
        self.removeFromSuperview()
    }

    /// 取消
    //: @objc func registerCancelAction() {
    @objc func settle() {
        //: self.dismissReportView(succeed: false)
        self.worldViewSucceed(succeed: false)
    }

    /// 提交举报内容
    //: @objc func registerSubmitAction() {
    @objc func saving() {
        //: if selectedModel.selected == false {
        if selectedModel.selected == false {
            //: self.func__showStatusBarErrorMsg(showMsg: "You need to choose at least one.".localized)
            self.micromicronProcess(showMsg: String(bytes: data_globShoreKey.reversed(), encoding: .utf8)!.localized)
            //: return
            return
        }
        //: if reportType == .reportUserType, otherTextView.placeholdertextView.text.isEmptyString {
        if reportType == .reportUserType, otherTextView.placeholdertextView.text.isEmptyString {
            //: self.func__showStatusBarErrorMsg(showMsg: "Please tell us your problems.".localized)
            self.micromicronProcess(showMsg: (String(notiClearValue.prefix(7)) + String(main_manualUrl) + String(constDirectFormat.suffix(6)) + "ur p" + String(app_teamCostName.prefix(8))).localized)
            //: return
            return
        }

        //: var param: [String: String] = [:]
        var param: [String: String] = [:]
        //: var path: String = ""
        var path = ""

        //: switch self.reportType {
        switch self.reportType {
        //: case .reportUserType:
        case .reportUserType:
            //: path = "app/userReport"
            path = (String(data_errorStr.prefix(8)) + String(notiLastId.suffix(6)))
            //: param = ["id": tempId, "reason": selectedModel.type, "desc": otherTextView.placeholdertextView.text]
            param = ["id": tempId, (String(k_loopPath) + appTipName.replacingOccurrences(of: "nobody", with: "n")): selectedModel.type, String(bytes: user_spireKey.map{promptFormer(glass: $0)}, encoding: .utf8)!: otherTextView.placeholdertextView.text]

        //: case .reportDynamicType:
        case .reportDynamicType:
            //: path = "mf/moment/report"
            path = (show_roundingText.replacingOccurrences(of: "coal", with: "m") + String(constAidUrl))
            //: param = ["momentId": tempId, "reason": selectedModel.type]
            param = [String(bytes: dataMagnitudeervalText.map{statementExample(absolutely: $0)}, encoding: .utf8)!: tempId, (String(k_loopPath) + appTipName.replacingOccurrences(of: "nobody", with: "n")): selectedModel.type]

        //: case .reportCommentType:
        case .reportCommentType:
            //: path = "mf/momentReply/report"
            path = (String(constOvalPath) + String(noti_womanAssistantMessage))
            //: param = ["id": tempId, "reason": selectedModel.type]
            param = ["id": tempId, (String(k_loopPath) + appTipName.replacingOccurrences(of: "nobody", with: "n")): selectedModel.type]

        //: case .reportVideo:
        case .reportVideo:
            //: path = "app/videoReport"
            path = (String(k_latUrl.suffix(8)) + String(noti_mentionName.prefix(2)) + String(app_layTitle))
            //: param = ["logId": tempId, "reason": selectedModel.type]
            param = [String(bytes: noti_fieldMsg.map{socialForward(cloud: $0)}, encoding: .utf8)!: tempId, (String(k_loopPath) + appTipName.replacingOccurrences(of: "nobody", with: "n")): selectedModel.type]

        //: default:
        default:
            //: break
            break
        }

        //: self.submitButton.isEnabled = false
        self.submitButton.isEnabled = false
        //: TalkingUserRequestManager.func__reportRequest(reqPath: path, reqParams: param) { succeed, result, errorModel in
        PriorityReactiveCompatible.funcSpring(reqPath: path, reqParams: param) { succeed, _, _ in
            //: self.submitButton.isEnabled = true
            self.submitButton.isEnabled = true
            //: if succeed == true {
            if succeed == true {
                //: self.func__showStatusBarSuccessMsg(showMsg: "Submitted successfully".localized)
                self.pointOfReferenceMedia(showMsg: (String(app_lagMutualText.suffix(6)) + "ted " + main_thatPath.replacingOccurrences(of: "time", with: "u") + String(show_millPath)).localized)
                //: self.dismissReportView(succeed: true)
                self.worldViewSucceed(succeed: true)
            }
        }
    }
}

// MARK: - Delegate

//: extension TalkingReportAlertView: UITableViewDelegate, UITableViewDataSource {
extension OccurrenceView: UITableViewDelegate, UITableViewDataSource {
    //: func numberOfSections(in tableView: UITableView) -> Int {
    func numberOfSections(in _: UITableView) -> Int {
        //: return 1
        return 1
    }

    //: func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
    func tableView(_: UITableView, numberOfRowsInSection _: Int) -> Int {
        //: return dataArray.count
        return dataArray.count
    }

    //: func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -> CGFloat {
    func tableView(_: UITableView, heightForRowAt _: IndexPath) -> CGFloat {
        //: return actualHeight(h: 40)
        return actualHeight(h: 40)
    }

    //: func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
        //: let cell = tableView.dequeueReusableCell(withIdentifier: TalkingReportViewCell.className()) as! TalkingReportViewCell
        let cell = tableView.dequeueReusableCell(withIdentifier: RecognizeViewCell.className()) as! RecognizeViewCell
        //: let model = dataArray[indexPath.item]
        let model = dataArray[indexPath.item]
        //: cell.updateReportCell(model: model)
        cell.nameTheory(model: model)
        //: return cell
        return cell
    }

    //: func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
    func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
        //: for model in dataArray {
        for model in dataArray {
            //: model.selected = false
            model.selected = false
        }

        //: let itemModel = dataArray[indexPath.item]
        let itemModel = dataArray[indexPath.item]
        //: itemModel.selected = true
        itemModel.selected = true
        //: self.selectedModel = itemModel
        self.selectedModel = itemModel

        //: tableView.reloadData()
        tableView.reloadData()
    }
}

// MARK: - Layout

//: extension TalkingReportAlertView {
extension OccurrenceView {
    /// 添加视图
    //: private func setupSubviews() {
    private func behindSetup() {
        //: addSubview(bgView)
        addSubview(bgView)
        //: addSubview(containerView)
        addSubview(containerView)
        //: containerView.addSubview(tableView)
        containerView.addSubview(tableView)
        //: containerView.addSubview(cancelButton)
        containerView.addSubview(cancelButton)
        //: containerView.addSubview(submitButton)
        containerView.addSubview(submitButton)
        //: tableFooterView.addSubview(otherTextView)
        tableFooterView.addSubview(otherTextView)
    }

    /// 添加约束
    //: private func setupSubViewsConstraint() {
    private func worldWideWeight() {
        //: var height = actualHeight(h: 325)
        var height = actualHeight(h: 325)
        //: if reportType == .reportUserType {
        if reportType == .reportUserType {
            //: height = actualHeight(h: 375)
            height = actualHeight(h: 375)
            //: } else if reportType == .reportVideo {
        } else if reportType == .reportVideo {
            //: height = actualHeight(h: 338)
            height = actualHeight(h: 338)
        }
        //: let topY = (self.frame.height - height) / 2.0
        let topY = (self.frame.height - height) / 2.0

        //: bgView.snp.makeConstraints { make in
        bgView.snp.makeConstraints { make in
            //: make.leading.top.trailing.bottom.equalTo(0)
            make.leading.top.trailing.bottom.equalTo(0)
        }
        //: containerView.snp.makeConstraints { make in
        containerView.snp.makeConstraints { make in
            //: make.top.equalTo(topY)
            make.top.equalTo(topY)
            //: make.leading.equalTo(actualWidth(w: 40))
            make.leading.equalTo(actualWidth(w: 40))
            //: make.trailing.equalTo(actualWidth(w: -40))
            make.trailing.equalTo(actualWidth(w: -40))
            //: make.height.equalTo(height)
            make.height.equalTo(height)
        }
        //: tableView.snp.makeConstraints { make in
        tableView.snp.makeConstraints { make in
            //: make.leading.equalTo(actualWidth(w: 14))
            make.leading.equalTo(actualWidth(w: 14))
            //: make.trailing.equalTo(actualWidth(w: -14))
            make.trailing.equalTo(actualWidth(w: -14))
            //: make.top.equalTo(actualHeight(h: 36))
            make.top.equalTo(actualHeight(h: 36))
            //: if reportType == .reportVideo {
            if reportType == .reportVideo {
                //: make.bottom.equalTo(actualHeight(h: -62))
                make.bottom.equalTo(actualHeight(h: -62))
                //: } else {
            } else {
                //: make.bottom.equalTo(actualHeight(h: -82))
                make.bottom.equalTo(actualHeight(h: -82))
            }
        }
        //: cancelButton.snp.makeConstraints { make in
        cancelButton.snp.makeConstraints { make in
            //: make.leading.equalTo(actualWidth(w: 14))
            make.leading.equalTo(actualWidth(w: 14))
            //: make.bottom.equalTo(actualHeight(h: -16))
            make.bottom.equalTo(actualHeight(h: -16))
            //: make.size.equalTo(CGSize(width: 126, height: 50))
            make.size.equalTo(CGSize(width: 126, height: 50))
        }
        //: submitButton.snp.makeConstraints { make in
        submitButton.snp.makeConstraints { make in
            //: make.trailing.equalTo(actualWidth(w: -14))
            make.trailing.equalTo(actualWidth(w: -14))
            //: make.bottom.equalTo(actualHeight(h: -16))
            make.bottom.equalTo(actualHeight(h: -16))
            //: make.size.equalTo(CGSize(width: 126, height: 50))
            make.size.equalTo(CGSize(width: 126, height: 50))
        }
    }

    /// 添加数据
    //: private func setupReasons() {
    private func totalervalWith() {
        //: var reasonArray: [String] = []
        var reasonArray: [String] = []
        //: var type = 0
        var type = 0

        //: switch self.reportType {
        switch self.reportType {
        //: case .reportDynamicType, .reportCommentType:
        case .reportDynamicType, .reportCommentType:
            //: type = 6
            type = 6
            //: reasonArray = ["Nudity".localized,
            reasonArray = [(String(appWorldRemTitle.prefix(6))).localized,
                           //: "Violence".localized,
                           (String(dataMineContent)).localized,
                           //: "Harassment".localized,
                           (String(main_beautyName) + data_flowFormat.replacingOccurrences(of: "tool", with: "t")).localized,
                           //: "Suicide or Self-injury".localized,
                           (String(user_carpetFormat.prefix(6)) + "e or S" + String(const_electricExtentData.prefix(7)) + noti_chamberName.replacingOccurrences(of: "preserve", with: "u")).localized,
                           //: "False Information".localized,
                           (String(noti_sessionMsg) + constEndStr.lowercased()).localized,
                           //: "Spam".localized,
                           (String(main_regainLagKey.suffix(4))).localized,
                           //: "Hate Speech".localized,
                           (String(const_rectoKey)).localized,
                           //: "Terrorism".localized,
                           (String(notiContainerMessage) + mainAttributeKey.replacingOccurrences(of: "issue", with: "rr") + "rism").localized,
                           //: "Sale of Illegal or Regulated Goods".localized]
                           String(bytes: notiCertainName.map{complexOrganization(recognize: $0)}, encoding: .utf8)!.localized]

        //: case .reportUserType:
        case .reportUserType:
            //: type = 1
            type = 1
            //: reasonArray = ["Sending disgusting messages".localized,
            reasonArray = [(String(showAccountingKey.prefix(7)) + String(show_agoOuterName) + notiConRadicalWeKey.replacingOccurrences(of: "trust", with: "g") + "ting" + String(constDeskTitle.suffix(4)) + "sages").localized,
                           //: "Using photos of nudity or drugs".localized,
                           String(bytes: appCarpetReadStr.map{itsWritten(transform: $0)}, encoding: .utf8)!.localized,
                           //: "Harassing or sending ads".localized,
                           (String(constRelateStr) + String(show_blendUrl.prefix(7))).localized,
                           //: "Defraud or using fake info".localized,
                           (String(data_universalMsg) + const_indexCurName.replacingOccurrences(of: "measurement", with: "a") + String(data_capacityText)).localized,
                           //: "Others".localized]
                           (String(noti_optionMsg)).localized]

        //: case .reportVideo:
        case .reportVideo:
            //: if let reason = FacultyReactiveCompatible.share.appConfigMode.videoReport["reason"] {
            if let reason = FacultyReactiveCompatible.share.appConfigMode.videoReport[(String(k_loopPath) + appTipName.replacingOccurrences(of: "nobody", with: "n"))] {
                //: reasonArray = reason as! [String]
                reasonArray = reason as! [String]
            }

        //: default:
        default:
            //: type = 0
            type = 0
            //: reasonArray = []
            reasonArray = []
        }

        //: for i in 0..<reasonArray.count {
        for i in 0 ..< reasonArray.count {
            //: let model = TalkingReportModel()
            let model = AudienceReactiveCompatible()
            //: model.reason = reasonArray[i]
            model.reason = reasonArray[i]
            //: if self.reportType == .reportVideo {
            if self.reportType == .reportVideo {
                //: model.type = "\(i)"
                model.type = "\(i)"
                //: } else {
            } else {
                //: model.type = "\(i+type)"
                model.type = "\(i + type)"
            }
            //: dataArray.append(model)
            dataArray.append(model)
        }

        //: tableView.reloadData()
        tableView.reloadData()
    }

    /// 添加事件
    //: private func bindInteraction() {
    private func bind() {
        //: let tapGesture = UITapGestureRecognizer()
        let tapGesture = UITapGestureRecognizer()
        //: bgView.addGestureRecognizer(tapGesture)
        bgView.addGestureRecognizer(tapGesture)
        //: tapGesture.rx.event.bind { [weak self] recognizer in
        tapGesture.rx.event.bind { [weak self] _ in
            //: guard let self = self else {return}
            guard let self = self else { return }
            //: self.endEditing(true)
            self.endEditing(true)
        }
        //: .disposed(by: disposeBag)
        .disposed(by: disposeBag)
    }
}
